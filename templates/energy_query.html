<!-- Favicons -->
<link href="static/img/favicon.png" rel="icon">
<link href="static/img/apple-touch-icon.png" rel="apple-touch-icon">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<!-- Bootstrap core CSS -->
<link href="static/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
<!--external css-->
<link href="static/lib/font-awesome/css/font-awesome.css" rel="stylesheet" />
<link rel="stylesheet" type="text/css" href="static/css/zabuto_calendar.css">
<!--<link rel="stylesheet" type="text/css" href="static/lib/gritter/css/jquery.gritter.css" />-->
<!-- Custom styles for this template -->
<link href="static/css/style.css" rel="stylesheet">
<link href="static/css/style-responsive.css" rel="stylesheet">
<link href="static/css/jquery.growl.css" rel="stylesheet">
<link href="static/css/datepicker.css" rel="stylesheet">
<!--<link href="static/css/main.css" rel="stylesheet">-->
<!--<script src="static/lib/chart-master/Chart.js"></script>-->
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="static/lib/jquery/jquery.min.js"></script>
<script src="static/lib/bootstrap/js/bootstrap.min.js"></script>
<script src="static/js/datepicker.js"></script>
<script src="static/js/datepicker.ko-KR.js"></script>
<script type="application/javascript">
$(function(){
    var today = new Date();
    <!--var hour = today.getHours();-->
    <!--var strHour = hour.toString();-->
    <!--var currentUsage = [300, 280, 250, 260, 270, 300, 550, 500, 400, 390, 380, 390, 400, 500, 600, 750, 800, 700, 600, 400, 500, 600, 600, 400];-->
    <!--var oneDay = ['00','01','02','03','04','05','06','07','08','09','10','11','12','13','14','15','16','17','18','19','20','21','22','23'];-->
    <!--var nowHourIndex = oneDay.findIndex(nowHour => nowHour == strHour);-->
    <!--var dataJsonArray = new Array();-->
    <!--var monthList = [];-->
    <!--var yearList = [];-->

    <!--for(var i = 0; i < currentUsage.length; i++){-->
        <!--var dataJson = new Object();-->
        <!--dataJson.value = currentUsage[i];-->
        <!--dataJson.itemStyle = new Object();-->
        <!--if(i <= nowHourIndex){-->
            <!--&lt;!&ndash;dataJson.itemStyle.color = 'rgba(0, 210, 211,1.0)';&ndash;&gt;-->
            <!--dataJson.itemStyle.color = '#2f4554';-->
        <!--} else {-->
            <!--dataJson.itemStyle.color = 'rgba(99, 110, 114,0.3)';-->
        <!--}-->
        <!--dataJsonArray.push(dataJson);-->
    <!--}-->

    <!--var perHoursUsage = document.getElementById("perHoursUsage");-->
    <!--var perHoursChart = echarts.init(perHoursUsage);-->
    <!--var app = {};-->
    <!--option = null;-->
    <!--option = {-->
        <!--title: {-->
            <!--text: '실시간 에너지 사용량'-->
        <!--},-->
        <!--color: ['#2f4554'],-->
        <!--&lt;!&ndash;color: ['rgba(0, 210, 211,1.0)', 'rgba(99, 110, 114,0.3)', 'rgba(255, 107, 107,1.0)'],&ndash;&gt;-->
        <!--tooltip: {-->
            <!--trigger: 'axis',-->
            <!--axisPointer: {-->
                <!--type: 'cross',-->
                <!--crossStyle: {-->
                    <!--color: '#999'-->
                <!--}-->
            <!--},-->
            <!--formatter: function (params) {-->
                <!--var colorSpan = color => '<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:' + color + '"></span>';-->
                <!--let rez = '<p>' + params[0].axisValue + ':00시 기준' + '</p>';-->
                <!--//console.log(params); //quite useful for debug-->
                <!--&lt;!&ndash;params.forEach(item => {&ndash;&gt;-->
                    <!--&lt;!&ndash;//console.log(item); //quite useful for debug&ndash;&gt;-->
                    <!--&lt;!&ndash;var xx = '<p>' + colorSpan(item.color) + ' ' + item.seriesName + ': ' + item.data + 'kW' + '</p>'&ndash;&gt;-->
                    <!--&lt;!&ndash;rez += xx;&ndash;&gt;-->
                <!--&lt;!&ndash;});&ndash;&gt;-->
                <!--var xx = '<p>' + colorSpan(params[0].color) + ' ' + params[0].seriesName + ': ' + params[0].value + 'kW' + '</p>';-->
                <!--xx += '<p>' + colorSpan(params[1].color) + ' ' + params[1].seriesName + ': ' + params[1].value + '℃' + '</p>';-->
                <!--rez += xx;-->

                <!--return rez;-->
            <!--}-->
        <!--},-->
        <!--legend: {-->
          <!--data:['실사용량', '예측사용량', '실외온도']-->
        <!--},-->
        <!--toolbox: {-->
          <!--show: true,-->
          <!--feature: {-->
              <!--saveAsImage: {}-->
          <!--}-->
        <!--},-->
        <!--xAxis: {-->
          <!--type: 'category',-->
          <!--data: oneDay-->
        <!--},-->
        <!--axisPointer: {-->
            <!--value: '06',-->
            <!--snap: true,-->
            <!--lineStyle: {-->
              <!--color: '#004E52',-->
              <!--opacity: 0.5,-->
              <!--width: 1-->
            <!--},-->
            <!--label: {-->
              <!--show: true,-->
              <!--backgroundColor: '#004E52'-->
            <!--},-->
            <!--handle: {-->
              <!--show: false,-->
              <!--color: '#004E52'-->
            <!--}-->
        <!--},-->
        <!--yAxis: [-->
          <!--{-->
              <!--type: 'value',-->
              <!--name: '전력량',-->
              <!--min: 0,-->
              <!--max: 800,-->
              <!--interval: 100,-->
              <!--axisLabel: {-->
                <!--formatter: '{value} kW'-->
              <!--}-->
          <!--},-->
          <!--{-->
              <!--type: 'value',-->
              <!--name: '온도',-->
              <!--min: -40,-->
              <!--max: 40,-->
              <!--interval: 10,-->
              <!--axisLabel: {-->
                  <!--formatter: '{value} °C'-->
              <!--}-->
          <!--}-->
        <!--],-->
        <!--grid: {-->
          <!--left: '5%',-->
          <!--right: '5%',-->
          <!--bottom: 40-->
        <!--},-->
        <!--series: [-->
            <!--{-->
                <!--name:'실사용량',-->
                <!--type:'bar',-->
                <!--smooth: true,-->
                <!--data: dataJsonArray,-->
                <!--markArea: {-->
                  <!--data: [-->
                    <!--[{}, {xAxis: hour}]-->
                  <!--],-->
                  <!--itemStyle: {-->
                    <!--color: 'rgba(99, 110, 114, 0.2)' //회색-->
                  <!--}-->
                <!--}-->
            <!--},-->
            <!--{-->
                <!--name:'예측사용량',-->
                <!--type:'bar',-->
                <!--smooth: true,-->
                <!--color: 'rgba(99, 110, 114,0.3)',-->
                <!--barGap: '-100%'-->
            <!--},-->
            <!--{-->
                <!--name:'실외온도',-->
                <!--type:'line',-->
                <!--smooth: true,-->
                <!--data: [-3, -2, -1, -1, 0, 1, 1, 2, 3, 3, 4, 5, 6, 5, 3, 1, 0, -2, -3, 0, 4, 4, 3, 4],-->
                <!--yAxisIndex: 1,-->
                <!--color: 'rgba(255, 107, 107,1.0)'-->
            <!--}-->
        <!--]-->
    <!--};-->
    <!--if (option && typeof option === "object") {-->
        <!--perHoursChart.setOption(option, true);-->
    <!--};-->

    <!--$(".nav-tabs li").click(function(){-->
        <!--var perDaysUsage = document.getElementById("perDaysUsage");-->
        <!--var perDaysChart = echarts.init(perDaysUsage);-->
        <!--var app = {};-->
        <!--option = null;-->
        <!--option = {-->
            <!--tooltip: {-->
                <!--trigger: 'axis',-->
                <!--axisPointer: {-->
                    <!--type: 'cross',-->
                    <!--crossStyle: {-->
                        <!--color: '#999'-->
                    <!--}-->
            <!--},-->
            <!--formatter: function (params) {-->
                <!--var colorSpan = color => '<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:' + color + '"></span>';-->
                <!--let rez = '<p>' + '4월' + params[0].axisValue + '일' + '</p>';-->
                <!--var xx = '<p>' + colorSpan(params[0].color) + ' ' + params[0].seriesName + ' : ' + params[0].value + ' kWh' + '</p>';-->
                <!--rez += xx;-->

                <!--return rez;-->
            <!--}-->
        <!--},-->
            <!--color: ['#2f4554', 'rgba(99, 110, 114,0.3)', 'rgba(255, 107, 107,1.0)'],-->
            <!--toolbox: {-->
                <!--feature: {-->
                    <!--saveAsImage: {show: true}-->
                <!--}-->
            <!--},-->
            <!--legend: {-->
                <!--data:['사용량']-->
            <!--},-->
            <!--xAxis: [-->
                <!--{-->
                    <!--type: 'category',-->
                    <!--data: ['1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30'],-->
                    <!--axisPointer: {-->
                        <!--type: 'shadow'-->
                    <!--}-->
                <!--}-->
            <!--],-->
            <!--yAxis: [-->
                <!--{-->
                    <!--type: 'value',-->
                    <!--name: '사용량',-->
                    <!--axisLabel: {-->
                    <!--formatter: '{value} kWh'-->
                    <!--}-->
                <!--}-->
            <!--],-->
            <!--grid: {-->
                <!--left: '10%',-->
                <!--right: '10%',-->
                <!--bottom: 40-->
            <!--},-->
            <!--series: [-->
                <!--{-->
                    <!--name:'사용량',-->
                    <!--type:'bar',-->
                    <!--smooth: true,-->
                    <!--data: [1966.98,	838.65,	733.67,	2392.49, 2957.86, 2743.21, 5266.95,	3292.08, 791.75, 2017.71, 2091.61, 1388.21, 2237.47, 5972.49, 1830.72, 1358.51, 1215.35, 844.82, 1198.55, 1692.78, 2265.12, 1581.96, 1176.01, 757.26, 1201.04, 1511.31,	2090.33, 4216.68, 2558.38, 1205.6-->
                    <!--]-->
                <!--}-->
            <!--]-->
        <!--};-->
        <!--if (option && typeof option === "object") {-->
            <!--perDaysChart.setOption(option, true);-->
        <!--};-->

        <!--var perMonthsUsage = document.getElementById("perMonthsUsage");-->
        <!--var perMonthsChart = echarts.init(perMonthsUsage);-->
        <!--var app = {};-->
        <!--option = null;-->
        <!--option = {-->
            <!--tooltip: {-->
                <!--trigger: 'axis',-->
                <!--axisPointer: {-->
                    <!--type: 'cross',-->
                    <!--crossStyle: {-->
                        <!--color: '#999'-->
                    <!--}-->
            <!--},-->
            <!--formatter: function (params) {-->
                <!--var colorSpan = color => '<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:' + color + '"></span>';-->
                <!--let rez = '<p>' + '4월' + params[0].axisValue + '일' + '</p>';-->
                <!--var xx = '<p>' + colorSpan(params[0].color) + ' ' + params[0].seriesName + ' : ' + params[0].value + ' kWh' + '</p>';-->
                <!--rez += xx;-->

                <!--return rez;-->
            <!--}-->
        <!--},-->
            <!--color: ['#2f4554', 'rgba(99, 110, 114,0.3)', 'rgba(255, 107, 107,1.0)'],-->
            <!--toolbox: {-->
                <!--feature: {-->
                    <!--saveAsImage: {show: true}-->
                <!--}-->
            <!--},-->
            <!--legend: {-->
                <!--data:['사용량']-->
            <!--},-->
            <!--xAxis: [-->
                <!--{-->
                    <!--type: 'category',-->
                    <!--data: ['5','6','7','8','9','10','11','12','1','2','3','4'],-->
                    <!--axisPointer: {-->
                        <!--type: 'shadow'-->
                    <!--}-->
                <!--}-->
            <!--],-->
            <!--yAxis: [-->
                <!--{-->
                    <!--type: 'value',-->
                    <!--name: '사용량',-->
                    <!--axisLabel: {-->
                    <!--formatter: '{value} kWh'-->
                    <!--}-->
                <!--}-->
            <!--],-->
            <!--grid: {-->
                <!--left: '10%',-->
                <!--right: '10%',-->
                <!--bottom: 40-->
            <!--},-->
            <!--series: [-->
                <!--{-->
                    <!--name:'사용량',-->
                    <!--type:'bar',-->
                    <!--smooth: true,-->
                    <!--data: [-->
                        <!--34211.28,	25709.22,	42732.92,	63202.95,	26239.74,-->
                        <!--62211.38,	68402.36,	99357.73,	90814.92,	96669.91,-->
                        <!--78232.91,	61395.55-->

                    <!--]-->
                <!--}-->
            <!--]-->
        <!--};-->
        <!--if (option && typeof option === "object") {-->
            <!--perMonthsChart.setOption(option, true);-->
        <!--};-->

        <!--var perYearsUsage = document.getElementById("perYearsUsage");-->
        <!--var perYearsChart = echarts.init(perYearsUsage);-->
        <!--var app = {};-->
        <!--option = null;-->
        <!--option = {-->
            <!--tooltip: {-->
                <!--trigger: 'axis',-->
                <!--axisPointer: {-->
                    <!--type: 'cross',-->
                    <!--crossStyle: {-->
                        <!--color: '#999'-->
                    <!--}-->
            <!--},-->
            <!--formatter: function (params) {-->
                <!--var colorSpan = color => '<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:' + color + '"></span>';-->
                <!--let rez = '<p>' + '4월' + params[0].axisValue + '일' + '</p>';-->
                <!--var xx = '<p>' + colorSpan(params[0].color) + ' ' + params[0].seriesName + ' : ' + params[0].value + ' kWh' + '</p>';-->
                <!--rez += xx;-->

                <!--return rez;-->
            <!--}-->
        <!--},-->
            <!--color: ['#2f4554', 'rgba(99, 110, 114,0.3)', 'rgba(255, 107, 107,1.0)'],-->
            <!--toolbox: {-->
                <!--feature: {-->
                    <!--saveAsImage: {show: true}-->
                <!--}-->
            <!--},-->
            <!--legend: {-->
                <!--data:['사용량']-->
            <!--},-->
            <!--xAxis: [-->
                <!--{-->
                    <!--type: 'category',-->
                    <!--data: ['2006', '2007', '2008', '2009', '2010', '2011', '2012', '2013', '2014', '2015', '2016', '2017', '2018', '2019'],-->
                    <!--axisPointer: {-->
                        <!--type: 'shadow'-->
                    <!--}-->
                <!--}-->
            <!--],-->
            <!--yAxis: [-->
                <!--{-->
                    <!--type: 'value',-->
                    <!--name: '사용량',-->
                    <!--axisLabel: {-->
                    <!--formatter: '{value} kWh'-->
                    <!--}-->
                <!--}-->
            <!--],-->
            <!--grid: {-->
                <!--left: '10%',-->
                <!--right: '10%',-->
                <!--bottom: 40-->
            <!--},-->
            <!--series: [-->
                <!--{-->
                    <!--name:'사용량',-->
                    <!--type:'bar',-->
                    <!--smooth: true,-->
                    <!--data: [-->
                        <!--394232.84,	630354.54,	534347.41,	534205.28,	641565.26,-->
                        <!--637733.01,	559079.74,	544311.65,	548685.42,	576430.44,-->
                        <!--680568.29,	703432.79,	767556.01,	227495.91-->
                    <!--]-->
                <!--}-->
            <!--]-->
        <!--};-->
        <!--if (option && typeof option === "object") {-->
            <!--perYearsChart.setOption(option, true);-->
        <!--};-->
    <!--});-->
    <!--window.onresize = function() {-->
        <!--perHoursChart.resize();-->
        <!--perDaysChart.resize();-->
        <!--perMonthsChart.resize();-->
        <!--perYearsChart.resize();-->
    <!--}-->

    <!----------------------------------------------- datepicker start ------------------------------------------------>
    var $startDate = $("#startDate");
    $startDate.datepicker({
        language: 'ko-KR',
        endDate: today,
        autoPick: true
    });
    <!------------------------------------------------ datepicker end ------------------------------------------------->


    <!------------------------------------------ create select option start ------------------------------------------->
    appendYear(today);
    appendMonth(today);
    <!------------------------------------------- create select option end -------------------------------------------->


    var activeTab = $(".nav-tabs li[class='active']").find('a').attr('href');
    var chartTitle = $.trim($(".nav-tabs li[class='active']").find('a').text());
    var queryBt = $(activeTab).find("button:submit");

    $('.nav-tabs li').click(function(){
        activeTab = $(this).find('a').attr('href');
        chartTitle = $.trim($(this).find('a').text());
        var selectYear = document.getElementsByName("year");
        var selectMonth = document.getElementsByName("month");
        var inputDate = document.getElementById("startDate");
        for(var j=0; j<selectYear.length; j++){
            selectYear[j].value = today.getFullYear();
        }
        selectMonth[0].value = today.getMonth() + 1;
        $startDate.datepicker('setDate', today);
        queryBt = $(activeTab).find("button:submit");
        getDataAjax(queryBt, chartTitle);
    });

    <!-------------------------------------- Get Electricity Data With Ajax start ------------------------------------->
    getDataAjax(queryBt, chartTitle);

    $("button:submit").click(function(e){
        var queryBt = $(this);
        e.preventDefault();
        getDataAjax(queryBt, chartTitle);
    });
    <!--------------------------------------- Get Electricity Data With Ajax end -------------------------------------->
});

function appendYear(today){
    var year = today.getFullYear();
    var selectValue = document.getElementsByName("year");
    <!--var selectValue = document.getElementById("year");-->
    var optionIndex = 0;
    for(var j=0; j<selectValue.length; j++){
        for(var i=year-3;i<=year;i++){
            selectValue[j].add(new Option(i,i),optionIndex++);
        }
        selectValue[j].value = year;
    }
}
function appendMonth(today){
    var selectValue = document.getElementsByName("month");
    <!--var selectValue = document.getElementById("month");-->
    var optionIndex = 0;
    var month = today.getMonth() + 1;
    for(var j=0; j<selectValue.length; j++){
        for(var i=1;i<=12;i++){
            selectValue[j].add(new Option(i,i),optionIndex++);
        }
        selectValue[j].value = month;
    }
}
function getDataAjax(queryBt, chartTitle){
    var term = queryBt.closest("div").attr("id");
    var form = queryBt.closest("div").find("form");
    var formData = form.serializeArray();
    formData = JSON.stringify(formData);
    console.log("formData = ", formData);
    (term==undefined) ? term = 'years' : term = term;

    var peak_list = [];
    var use_amt_list = [];
    var term_list = [];

    $.ajax({
        url:'/getUsage/',
        dataType:'json',
        type:'GET',
        data: {
            term: term,
            formData: formData
        },
        contentType: 'application/json',
        success:function(result){
            // alert("ajax return :"+result);
            if(term == 'times'){
                for(var i = 0 ; i < result.length ; i++){
                    peak_list.push(result[i].peak);
                    use_amt_list.push(result[i].use_amt);
                    term_list.push(result[i].dateTime);
                }
            }else if(term == 'days' || term == 'months'){
                for(var i = 0 ; i < result.length ; i++){
                    term_list.push(result[i][0]);
                    peak_list.push(result[i][1]);
                    use_amt_list.push(result[i][2]);
                }
            }else {
                for(var i = 0 ; i < result.length ; i++){
                    term_list.push(result[i][0]);
                    peak_list.push(result[i][1]);
                    use_amt_list.push(result[i][2]);
                }
            }
            $.each(result, function(key, value){
                $.each(value, function(key, value){
                    console.log(key, value);
                });
            });
        },
        error: function(status, errorMsg){
          alert(errorMsg);
        },
        complete : function() {
            setPeakChart(term, peak_list, use_amt_list, term_list, chartTitle);
            setTableContents(term, peak_list, use_amt_list, term_list);
        }
    });
}

function setTableContents(term, peak_list, use_amt_list, term_list){
    var $tabs = $("#" + term);
    var $table = $tabs.find(".table");
    var rowNum = $table.first().find("tr").slice(1).length;

    $table.find("tr").slice(1).find("td").text('');
    for(var i = 0; i < term_list.length; i++){
        var tableNum = parseInt(i/rowNum);
        var $table_td = $table.eq(tableNum).find("tbody > tr").eq(i%rowNum).children();
        $table_td.eq(0).text(term_list[i]);
        $table_td.eq(1).text(use_amt_list[i]);
        $table_td.eq(2).text(peak_list[i]);
    }
}

function setPeakChart(term, peak_list, use_amt_list, term_list, chartTitle){
    var $termChart = document.getElementById(term + "Usage");
    var eChartObject = echarts.getInstanceByDom($termChart);

    if(eChartObject==undefined){
        var resizeContainer = function(){
            $termChart.style.width = window.innerWidth * 0.97 + 'px';
            //$termChart.style.height = window.innerHeight * 0.8 + 'px';
        };
        resizeContainer();
        var eChart = echarts.init($termChart);
        $(window).on('resize', function (){
            resizeContainer();
            eChart.resize();
        });
        var app = {};

        option = null;
        option = {
            title: {
                text: chartTitle + ' 최대수요 그래프'
            },
            color: ['#2f4554'],
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross',
                    crossStyle: {
                        color: '#999'
                    }
                },
                formatter: function (params) {
                    var colorSpan = color => '<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:' + color + '"></span>';
                    let rez = '<p>' + params[0].axisValue
                    if(term == 'times'){
                        rez += ':00시 기준' + '</p>';
                    }else if(term == 'days'){
                        rez += '일 기준' + '</p>';
                    }else if(term == 'months'){
                        rez += '월 기준' + '</p>';
                    }else{
                        rez += '년 기준' + '</p>';
                    }
                    var xx = '<p>' + colorSpan(params[0].color) + ' ' + params[0].seriesName + ': ' + params[0].value + 'kW' + '</p>';
                    xx += '<p>' + colorSpan(params[1].color) + ' ' + params[1].seriesName + ': ' + params[1].value + 'kWh' + '</p>';
                    rez += xx;

                    return rez;
                }
            },
            legend: {
                right: 'center',
                top: 30,
                data:['최대수요', '전력소비량']
            },
            toolbox: {
              show: true,
              feature: {
                  saveAsImage: {}
              }
            },
            xAxis: {
                type: 'category',
                data: term_list
            },
            axisPointer: {
                value: '6',
                snap: true,
                lineStyle: {
                  color: '#004E52',
                  opacity: 0.5,
                  width: 1
                },
                label: {
                  show: true,
                  backgroundColor: '#004E52'
                },
                handle: {
                  show: false,
                  color: '#004E52'
                }
            },
            yAxis: [
              {
                  type: 'value',
                  name: '최대수요',
                  axisLabel: {
                    formatter: '{value} kW'
                  }
              },
              {
                  type: 'value',
                  name: '전력소비량',
                  axisLabel: {
                    formatter: '{value} kWh'
                  }
              }
            ],
            grid: {
              left: 60,
              right: 60,
              bottom: 40,
              containLabel: true
            },
            series: [
                {
                    name:'최대수요',
                    type:'bar',
                    smooth: true,
                    itemStyle: {
                        color: '#2f4554'
                    },
                    animationDelay: function (idx) {
                        return idx * 10;
                    },
                    markPoint : {
                        data : [
                            {type : 'max', name: '전력피크'}
                        ]
                    },
                    data: peak_list
                },
                {
                    name:'전력소비량',
                    type:'line',
                    itemStyle: {
                        color: '#ff5252'
                    },
                    animationDelay: function (idx) {
                        return idx * 10;
                    },
                    data: use_amt_list,
                    yAxisIndex: 1
                }
            ],
            animationEasing: 'elasticOut',
            animationDelayUpdate: function (idx) {
                return idx * 5;
            }
        };
        if (option && typeof option === "object") {
            eChart.setOption(option, true);
        };
        window.onresize = function() {
            <!--$('.eCharts').each(function(){-->
                <!--var id = $(this).attr('_echarts_instance_');-->
                <!--window.echarts.getInstanceById(id).resize();-->
            <!--});-->
            // alert("size variation");
            eChart.resize();
        }
    }else{
        var option = eChartObject.getOption();
        option.series[0].data = peak_list;
        option.series[1].data = use_amt_list;
        option.xAxis[0].data = term_list;
        eChartObject.setOption(option, true);
    }

}
</script>
<div class="row">
    <ul class="nav nav-tabs">
            <li class="active"><a data-toggle="tab" href="#times">시간별</a></li>
            <li><a data-toggle="tab" href="#days">일별</a></li>
            <li><a data-toggle="tab" href="#months">월별</a></li>
            <li><a data-toggle="tab" href="#years">연도별</a></li>
        </ul>
</div>
<div class="row">
    <div class="tab-content">
        <div id="times" class="tab-pane fade in active">
            <form class="form-inline" role="form">
                <div class="form-group">
                    <div class="input-append date dpYears">
                        <input type="text" id="startDate" class="form-control" name="date" placeholder="날짜선택" data-toggle="datepicker">
                        <!--<input id="queryDatePick" type="text" readonly="" size="16" class="form-control docs-date" data-toggle="datepicker">-->
                        <span class="input-group-btn add-on">
                            <button class="btn btn-theme docs-datepicker-trigger" type="button"><i class="fa fa-calendar"></i></button>
                        </span>
                    </div>
                </div>
                <button type="submit" class="btn btn-theme">조회</button>
            </form>
            <div class="row">
                <div id="timesUsage" class="eCharts" style="max-width:1347px;height:380px;">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <h4><i class="fa fa-angle-right"></i> Detail Usage</h4>
                </div>
                <div class="col-lg-6 col-sm-6">
                    <section>
                        <table class="table table-bordered table-striped table-condensed">
                            <colgroup>
                                <col width="20%">
                                <col width="40%">
                                <col width="40%">
                            </colgroup>
                            <thead>
                                <tr>
                                    <th>시</th>
                                    <th>사용량 (kWh)</th>
                                    <th>최대수요 (kW)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </section>
                </div>
                <div class="col-lg-6 col-sm-6">
                    <section>
                    <table class="table table-bordered table-striped table-condensed">
                        <colgroup>
                            <col width="20%">
                            <col width="40%">
                            <col width="40%">
                        </colgroup>
                        <thead>
                            <tr>
                                <th>시</th>
                                <th>사용량 (kWh)</th>
                                <th>최대수요 (kW)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                </section>
                </div>
                    <!--<div class="col-lg-12 col-sm-12">-->
                        <!--&lt;!&ndash;<section id="unseen">&ndash;&gt;-->
                        <!--<section>-->
                            <!--<table class="table table-bordered table-striped table-condensed">-->
                                <!--<tbody>-->
                                    <!--<tr>-->
                                        <!--<th class="numeric">시</th>-->
                                        <!--<td rowspan="3" style="width:100%; height:100%;">데이터가 존재하지 않음</td>-->
                                    <!--</tr>-->
                                    <!--<tr>-->
                                        <!--<th class="numeric">사용량<br>(kWh)</th>-->
                                    <!--</tr>-->
                                    <!--<tr>-->
                                        <!--<th class="numeric">최대수요<br>(kW)</th>-->
                                    <!--</tr>-->
                                <!--</tbody>-->
                            <!--</table>-->
                        <!--</section>-->
                    <!--</div>-->
            </div>
        </div>
        <div id="days" class="tab-pane fade">
            <form class="form-inline" role="form">
                <div class="form-group">
                    <div class="input-append date dpYears">
                        <span>조회일자 :&nbsp;</span>
                        <select name="year" class="form-control year"></select>년&nbsp;
                        <select name="month" class="form-control month"></select>월&nbsp;
                    </div>
                </div>
                <button type="submit" class="btn btn-theme">조회</button>
            </form>
            <div class="row">
                <div id="daysUsage" class="eCharts" style="max-width:1347px;height:380px;">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                        <h4><i class="fa fa-angle-right"></i> Detail Usage</h4>
                        <!--<table class="table table-bordered table-striped table-condensed">-->
                            <!--<tbody>-->
                                <!--<tr>	<th>	최 대	</th>	<td>	14 일  5,972.49 kWh	</td>	<th>	최 소	</th>	<td>	3 일  733.67 kWh	</td>	<th>	평 균	</th>	<td>	2,046.52 kWh	</td>	<th>	합	</th>	<td>	61,395.55 kWh	</td>	</tr>-->
                            <!--</tbody>-->
                        <!--</table>-->
                    </div>
                <div class="col-lg-4 col-sm-4">
                    <section>
                        <table class="table table-bordered table-striped table-condensed">
                            <colgroup>
                                <col width="20%">
                                <col width="40%">
                                <col width="40%">
                            </colgroup>
                            <thead>
                                <tr>
                                    <th>일</th>
                                    <th>사용량 (kWh)</th>
                                    <th>최대수요 (kW)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </section>
                    </div>
                <div class="col-lg-4 col-sm-4">
                    <section>
                        <table class="table table-bordered table-striped table-condensed">
                            <colgroup>
                                <col width="20%">
                                <col width="40%">
                                <col width="40%">
                            </colgroup>
                            <thead>
                                <tr>
                                    <th>일</th>
                                    <th>사용량 (kWh)</th>
                                    <th>최대수요 (kW)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </section>
                    </div>
                <div class="col-lg-4 col-sm-4">
                    <section>
                        <table class="table table-bordered table-striped table-condensed">
                            <colgroup>
                                <col width="20%">
                                <col width="40%">
                                <col width="40%">
                            </colgroup>
                            <thead>
                                <tr>
                                    <th>일</th>
                                    <th>사용량 (kWh)</th>
                                    <th>최대수요 (kW)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </section>
                    </div>
            </div>
        </div>
        <div id="months" class="tab-pane fade">
            <form class="form-inline" role="form">
                <div class="form-group">
                    <div class="input-append date dpYears">
                        <span>조회일자 :&nbsp;</span>
                        <select name="year" class="form-control year"></select>년&nbsp;
                    </div>
                </div>
                        <!--<div class="form-group">-->
                            <!--<select class="form-control year">-->
                            <!--</select>-->
                        <!--</div>-->
                    <button type="submit" class="btn btn-theme">조회</button>
                </form>
            <div class="row">
                <div id="monthsUsage" class="eCharts" style="max-width:1347px;height:400px;">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <h4><i class="fa fa-angle-right"></i> Detail Usage</h4>
                    <!--<table class="table table-bordered table-striped table-condensed">-->
                        <!--<tbody>-->
                            <!--<tr>	<th>	최 대	</th>	<td>	12 월  99,357.73 kWh	</td>	<th>	최 소	</th>	<td>	06 월  25,709.22 kWh	</td>	<th>	평 균	</th>	<td>	62,431.74 kWh	</td>	<th>	합	</th>	<td>	749,180.87 kWh	</td>	</tr>-->
                        <!--</tbody>-->
                    <!--</table>-->
                </div>
                <div class="col-lg-6 col-sm-6">
                    <section>
                        <table class="table table-bordered table-striped table-condensed">
                    <colgroup>
                        <col width="20%">
                        <col width="40%">
                        <col width="40%">
                    </colgroup>
                    <thead>
                        <tr>
                            <th>월</th>
                            <th>사용량 (kWh)</th>
                            <th>최대수요 (kW)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
                    </section>
                </div>
                <div class="col-lg-6 col-sm-6">
                    <section>
                        <table class="table table-bordered table-striped table-condensed">
                    <colgroup>
                        <col width="20%">
                        <col width="40%">
                        <col width="40%">
                    </colgroup>
                    <thead>
                        <tr>
                            <th>월</th>
                            <th>사용량 (kWh)</th>
                            <th>최대수요 (kW)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
                    </section>
                </div>
            </div>
        </div>
        <div id="years" class="tab-pane fade">
            <div class="row">
                <div id="yearsUsage" class="eCharts" style="max-width:1347px;height:400px;">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <h4><i class="fa fa-angle-right"></i> Detail Usage</h4>
                </div>
                <div class="col-lg-12 col-sm-12">
                    <section>
                        <table class="table table-bordered table-striped table-condensed">
                    <colgroup>
                        <col width="20%">
                        <col width="40%">
                        <col width="40%">
                    </colgroup>
                    <thead>
                        <tr>
                            <th>연도</th>
                            <th>사용량 (kWh)</th>
                            <th>최대수요 (kW)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
                    </section>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="static/js/echarts-dev.js"></script>
<!--<script src="static/js/custom_chart.js"></script>-->
<script src="static/js/test.js"></script>